<div fxLayout="row" fxLayoutGap="5px">
  <div>
    <button *ngIf="ipc.machinaToggle$ | async" nz-button (click)="importFromPcap()">{{'VOYAGE_TRACKER.Import_using_pcap' | translate}}</button>
  </div>
</div>
<app-page-loader [loading]="isLoading$ | async">
  <div fxLayout="column" fxLayoutGap="20px">
    <nz-collapse *ngFor="let server of display$ | async | keyvalue; trackBy:trackByServerKey">
      <nz-collapse-panel [nzHeader]="server.key">
        <div fxLayout="column" fxLayoutGap="20px">
          <nz-collapse *ngFor="let freecompany of server.value; trackBy:trackById">
            <nz-collapse-panel [nzHeader]="freecompany.name + ' <' + freecompany.tag + '>'" #panel>
              <app-vessel-list [airships]="freecompany.airships.slots"
                               [submarines]="freecompany.submarines.slots"
                               [airshipMaxRank]="airshipMaxRank$ | async"
                               [submarineMaxRank]="submarineMaxRank$ | async"
              ></app-vessel-list>
            </nz-collapse-panel>
          </nz-collapse>
        </div>
      </nz-collapse-panel>
    </nz-collapse>
  </div>
</app-page-loader>


