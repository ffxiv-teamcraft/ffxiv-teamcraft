<div fxLayout="row" fxLayoutAlign="flex-start center" fxLayoutGap="10px" class="display-container">
  <div fxLayout="column" fxLayoutAlign="center center" fxLayoutGap="2px">
    <ng-container *ngIf="equipmentPiece; else emptySlot">
      <app-item-icon [itemId]="equipmentPiece.itemId" [hq]="equipmentPiece.hq" [width]="32 | ifMobile:24"></app-item-icon>
      <div class="ilvl">{{'TOOLTIP.Ilvl' | translate}} {{equipmentPiece.itemId | ilvl}}</div>
    </ng-container>
    <ng-template #emptySlot>
      <div class="empty-slot companion-svg" [innerHTML]="emptySlotIconUnicode"></div>
    </ng-template>
  </div>
  <div fxLayout="column" fxLayoutGap="5px">
    <div fxLayout="row" fxLayoutGap="5px" fxLayoutAlign="flex-start center">
      <ng-container *ngIf="equipmentPiece; else emptySlotName">
        <div>{{equipmentPiece.itemId | itemName | i18n}}</div>
        <img *ngIf="equipmentPiece.hq" alt="HQ" class="item-hq" src="./assets/icons/HQ.png"/>
        <ng-template #caps>
          <app-item-caps-table [job]="gearset.job" [equipmentPiece]="equipmentPiece"></app-item-caps-table>
        </ng-template>
        <i nz-icon nzType="file-search" nzTheme="outline" nz-popover [nzTitle]="'GEARSETS.Stats_caps' | translate" [nzContent]="caps"
           *ngIf="equipmentPiece.materias[0] > 0">
        </i>
      </ng-container>
      <ng-template #emptySlotName>{{'GEARSETS.Empty_slot' | translate}}</ng-template>
    </div>
    <div fxLayout="row" class="materias" *ngIf="equipmentPiece">
      <ng-container *ngIf="verbose; else compactSlots">
        <div fxLayout="column" fxLayoutAlign="flex-start flex-start" fxLayoutGap="5px">
          <div fxLayout="row" fxLayoutAlign="flex-start center" fxLayoutGap="5px" *ngFor="let materia of equipmentPiece.materias; let i = index;">
            <app-materia-slot-icon nz-tooltip
                                   [equipmentPiece]="equipmentPiece"
                                   [index]="i"></app-materia-slot-icon>
            <div class="verbose-materia-name">{{materia === 0 ? ('GEARSETS.No_materia' | translate) : materia | itemName | i18n}}</div>
          </div>
        </div>
      </ng-container>
      <ng-template #compactSlots>
        <app-materia-slot-icon *ngFor="let materia of equipmentPiece.materias; let i = index;"
                               nz-tooltip
                               [nzTitle]="materia === 0 ? null : materia | itemName | i18n"
                               [equipmentPiece]="equipmentPiece"
                               [index]="i"></app-materia-slot-icon>
      </ng-template>
    </div>
  </div>
</div>
