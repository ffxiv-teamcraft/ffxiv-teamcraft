@if (commissionProfile$ | async; as display) {
  <div fxLayout="row" fxLayoutGap="10px" fxLayoutAlign="flex-start center">
    @if (display.avgRating > -1 || display.profile.resignedFeedback.length > 0 || display.profile.firedFeedbacks.length > 0) {
      <nz-rate [ngModel]="display.avgRating" nzDisabled></nz-rate>
    } @else {
      {{'COMMISSIONS.PROFILE.No_ratings' | translate}}
    }
    <div>({{display.profile.ratings.length}})</div>
    <div>
      <span nz-tooltip [nzTooltipTitle]="'COMMISSIONS.PROFILE.Fired_X_times' | translate:{amount: display.profile.firedFeedbacks.length}">
        <i nz-icon nzType="fire" nzTheme="outline"></i>
        {{display.profile.firedFeedbacks.length}}
      </span>
      /
      <span nz-tooltip [nzTooltipTitle]="'COMMISSIONS.PROFILE.Resigned_X_times' | translate:{amount: display.profile.resignedFeedback.length}">
        <i nz-icon nzType="stop" nzTheme="outline"></i>
        {{display.profile.resignedFeedback.length}}
      </span>
    </div>
    @if (display.profile.ratings.length > 0) {
      <button nz-button nzSize="small" nzShape="circle"
        nz-tooltip [nzTooltipTitle]="'COMMISSIONS.PROFILE.View_details' | translate" (click)="openDetails(display.profile)">
        <i nz-icon nzType="file-search" nzTheme="outline"></i>
      </button>
    }
  </div>
}
