<nz-divider [nzText]="'COMMISSIONS.PROFILE.Ratings' | translate"></nz-divider>
<div class="ratings" fxLayout="column" fxLayoutGap="10px">
  @for (rating of profile.ratings; track rating) {
    <div fxLayout="column" fxLayoutAlign="center center">
      <nz-rate [ngModel]="rating.rating" nzDisabled></nz-rate>
      <p>{{rating.comment}}</p>
      <a nz-button nzBlock routerLink="/commission/{{rating.commissionId}}" (click)="close()">{{'COMMISSIONS.Open_commission_details' | translate}}</a>
    </div>
  }
</div>
<nz-divider [nzText]="'COMMISSIONS.PROFILE.Incidents' | translate"></nz-divider>
@if (profile.firedFeedbacks.length === 0 && profile.resignedFeedback.length === 0) {
  <nz-empty
  [nzNotFoundContent]="'COMMISSIONS.PROFILE.No_incidents' | translate"></nz-empty>
}
<div class="ratings" fxLayout="column" fxLayoutGap="10px">
  @for (fired of profile.firedFeedbacks; track fired) {
    <div fxLayout="column" fxLayoutAlign="center center">
      <b><i nz-icon nzType="fire" nzTheme="outline"></i> {{'COMMISSIONS.PROFILE.Fired' | translate}}</b>
      <p>{{('COMMISSIONS.FIRED.' + fired.reason) | translate}}</p>
      <p>{{fired.date.seconds * 1000 | date:'medium':null:settings.dateFormat}}</p>
      <a nz-button nzBlock routerLink="/commission/{{fired.commissionId}}" (click)="close()">{{'COMMISSIONS.Open_commission_details' | translate}}</a>
    </div>
  }
  @for (resigned of profile.resignedFeedback; track resigned) {
    <div fxLayout="column" fxLayoutAlign="center center">
      <b><i nz-icon nzType="stop" nzTheme="outline"></i> {{'COMMISSIONS.PROFILE.Resigned' | translate}}</b>
      <p>{{('COMMISSIONS.RESIGNED.' + resigned.reason) | translate}}</p>
      <p>{{resigned.date.seconds * 1000 | date:'medium':null:settings.dateFormat}}</p>
      <a nz-button nzBlock routerLink="/commission/{{resigned.commissionId}}" (click)="close()">{{'COMMISSIONS.Open_commission_details' | translate}}</a>
    </div>
  }
</div>
