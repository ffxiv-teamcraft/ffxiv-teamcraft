<nz-list [nzDataSource]="details" [nzRenderItem]="instanceTemplate">
  <ng-template #instanceTemplate let-instance>
    <nz-list-item>
      <nz-list-item-meta [nzAvatar]="avatar"
        [nzTitle]="title">
        <ng-template #title>
          <div fxLayout="row" fxLayoutAlign="flex-start center" fxLayoutGap="5px">
            @if (instance > 0) {
              <div [innerHtml]="instance | i18nRow:'instances' | i18n"></div>
              <app-db-button [id]="instance" type="instance"></app-db-button>
            } @else {
              <div>{{-1 * instance | mapName | i18n}}</div>
              <app-db-button [id]="-1 * instance" type="map"></app-db-button>
            }
          </div>
        </ng-template>
        <ng-template #avatar>
          @if (instance > 0) {
            <a routerLink="/db/{{translate.currentLang}}/instance/{{instance}}">
              <img [src]="instance | lazyRow:'instances':'icon' | async" alt="">
            </a>
          }
          @if (instance < 0) {
            <i nz-icon nzType="environment-o"></i>
          }
        </ng-template>
      </nz-list-item-meta>
    </nz-list-item>
  </ng-template>
</nz-list>
